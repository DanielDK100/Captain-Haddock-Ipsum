<!DOCTYPE html>
<html lang="da">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="images/snowy.webp">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Bangers&family=Comic+Neue:ital,wght@1,700&family=Lobster&display=swap"
    rel="stylesheet">
  <title>
    Kaptajn Haddock Ipsum <%= insult ? ' | ' + insult + '!' : '' %>
  </title>
  <style>
    * {
      padding: 0;
      margin: 0;
    }

    body {
      background: #ffecc5;
    }

    .haddock {
      position: relative;
    }

    .speech-bubble {
      position: absolute;
      height: 70px;
      width: 100%;
      background: url("images/speech-bubble.webp") no-repeat;
      background-size: contain;
      right: -245px;
      top: -100px;
      padding: 50px 50px;
      font-family: 'Bangers', cursive;
      font-size: 2.5rem;
      color: #343434;
      letter-spacing: 1px;
      text-align: center;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .flex-box {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      margin-top: 8rem;
    }

    .container {
      max-width: 80rem;
      padding: 2rem;
    }

    .header {
      font-family: 'Bangers', cursive;
      font-size: 5rem;
      letter-spacing: 5px;
      color: #343434;
    }

    .paragraph {
      font-family: 'Lobster', cursive;
      font-size: 2.5rem;
      color: #505050;
    }

    .lorem-ipsum-paragraph {
      font-size: 1.5rem;
      font-family: 'Comic Neue', cursive;
      color: #3e3e3e;
      line-height: 35px;
      margin-bottom: 1.5rem;
      text-align: justify;
    }

    .button {
      padding: 1rem 2rem;
      outline: none;
      font-family: 'Lobster', cursive;
      font-size: 1.5rem;
      border: 4px solid white;
      color: white;
      cursor: pointer;
    }

    .generate-paragraph-form {
      position: sticky;
      top: 0;
      background: #ffecc5;
      padding-bottom: 1.5rem;
    }

    .generate-paragraph-form input[type=number] {
      padding: 1rem 0;
      text-indent: 1rem;
      outline: none;
      width: 100%;
      margin: 1.5rem 0;
      font-family: 'Lobster', cursive;
      border: 4px solid white;
      background-color: #f7f7f7;
      color: #686868;
      font-size: 1.5rem;
    }

    .generate-paragraph-form input[type=submit] {
      background-color: #57a2cd;
    }

    .generate-paragraph-form span {
      background-color: #c44928;
    }

    .snowy {
      height: 10vh;
      position: fixed;
      bottom: 0;
      right: 0;
    }
  </style>
</head>

<body>
  <div class="flex-box">
    <a class="haddock" href="/">
      <% if (insult) { %>
        <div class="speech-bubble">
          <%= insult %>!
        </div>
        <% } %>
          <img src="images/captain-haddock.webp" alt="Captain Haddock">
    </a>
    <div class="container">
      <h1 class="header">Kaptajn Haddock Ipsum</h1>
      <p class="paragraph">
        Genererer Lorem Ipsum tekst med et drys af Kaptajn Haddocks farverige sk√¶ldsord! Indtast nedenfor
        det antal af paragraffer der skal genereres<br> - din sleske spytslikker!
      </p>

      <form class="generate-paragraph-form" action="/generate-paragraphs" method="post">
        <input type="number" name="numberOfParagraphs" required min="1" max="1000" placeholder="Antal paragraffer">
        <input type="submit" value="Generer tekst!" class="button">
        <% if (paragraphs.length !=0) { %>
          <span onclick="copyToClipboard('paragraphs')" class="copy button">Kopier!</span>
          <% } %>
      </form>

      <% if (paragraphs.length !=0) { %>
        <div>
          <div id="paragraphs">
            <% paragraphs.forEach(function(paragraph){ %>
              <p class="lorem-ipsum-paragraph">
                <%= paragraph %>
              </p>
              <% }); %>
          </div>
        </div>
        <% } %>
    </div>
  </div>
  <a href="/generate-paragraphs-json?numberOfParagraphs=7" target="_blank" title="API endpoint">
    <img src="images/snowy.webp" alt="Snowy" class="snowy">
  </a>
  <script>
    function copyToClipboard(id) {
      const range = document.createRange();
      range.selectNode(document.getElementById(id));
      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);
      try {
        document.execCommand('copy');
        window.getSelection().removeAllRanges();
        document.querySelector('.copy').style.display = 'none';
      } catch (err) {
        console.log('Unable to copy!');
      }
    }
  </script>
</body>

</html>